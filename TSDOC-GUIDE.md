# TSDoc Guide

The comments are parsed by the [API Extractor](https://api-extractor.com/pages/tsdoc/doc_comment_syntax/)

- The comment must appear in the emitted .d.ts file for your class
- The comment must begin with the special /** delimiter (two stars)
- The comment must appears immediately before an exported declaration; OR the comment appears at the top of the entry point file and contains a `@packageDocumentation` tag

Note: be sure the code is compiled recently and the compiler does not strip comments

The intermediate markdown code is generated by [api-documenter](https://api-extractor.com/pages/overview/demo_docs/).

## Comments style

### Block comments

```cpp
/**
 * Summary text.
 * 
 * @remarks
 * Usually multiple lines.
 *
 * @param name - Description ended with dot.
 * @param name - Description.
 * @returns .
 * 
 * @throws {@link MyError}
 * Thrown if no user matches the provided ID.
 * 
 * @public/@
 */
```

### Links

#### Basic Syntax

The general format is:

```ts
{@link Target | Display Text}
```

- Target: The name of the function, method, or class you are linking to.
- Display Text (Optional): Custom text to show instead of the raw target name. Use a pipe (|) to separate the target from the text. 

#### Linking to Different Types of Functions

The syntax varies depending on whether the function is a standalone global function or a member of a class:

- Standalone Function: Simply use the function name.

```ts
{@link myFunction}
```

- Static Class Method: Use a dot (.) to access the static member.

```ts
{@link MyClass.staticMethod}
```

- Instance Method: Use a hash (#) to indicate it is a member of the class instance.

```ts
{@link MyClass#instanceMethod} 
```

#### Disambiguating Overloads or Same-Name Members

If a class has both a static and instance member with the same name, or if you need to reference a specific overload, you can use selectors:

- Instance Selector: `{@link MyClass.(render:instance)}`
- Static Selector: `{@link MyClass.(render:static)}`
- Class Constructor: `{@link MyClass.(constructor)}` 

#### External References

To link to a function in a different package or module, include the package name followed by a hash:

```ts
{@link package-name#exportedFunction}
{@link @scope/package-name/path#MyClass.method} 
```

### Exceptions

Use links for exceptions and place the descriptions on separate lines.

```ts
/**
 * Retrieves a user by their unique ID.
 *
 * @param id - The numeric user ID.
 * @returns The user object if found.
 * 
 * @throws {@link UserNotFoundError}
 * Thrown if no user matches the provided ID.
 * 
 * @throws {@link ValidationError}
 * Thrown if the provided ID is not a positive integer.
 */
```

## Issues

### ae-unresolved-link for system errors?
 
For example in `@throws` do not link to `Error` or `Assertionerror`, the resolver does not know where the documentation pages are:

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/ae-unresolved-link.20for.20system.20errors.3F/with/569028228

Conclusion: Do not link to external objects

Workaround: instead of `{@link Error}`, use `Error`.

### Comments in destructured parameters trigger errors

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/Comments.20in.20destructured.20parameters.20trigger.20errors

Conclusion: do not use comments in destructured parameters.

### api-documenter escapes some markdown characters?

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/api-documenter.20.20escapes.20.20some.20markdown.20characters.3F

- https://github.com/microsoft/tsdoc/issues/12#issuecomment-3783296395

Conclusion: except code syntax, do not use markdown in the documentation.

### Shouldn't api-converter honour "stripInternal": false?

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/Shouldn't.20.20api-converter.20honour.20.20.22stripInternal.22.3A.20false.3F/with/569477452

### The target project appears to use TypeScript 5.9.3...

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/The.20target.20project.20appears.20to.20use.20TypeScript.205.2E9.2E3.2E.2E.2E

### Re-exporting external module fails

- https://rushstack.zulipchat.com/#narrow/channel/262521-api-extractor/topic/Re-exporting.20external.20module.20fails